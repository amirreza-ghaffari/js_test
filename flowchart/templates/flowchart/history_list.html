{% extends 'base/base.html' %}
{% load replace %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    {% block title %}
        History Dashboard
    {% endblock %}
</head>
<body>

{% block dashboard %}
    History Dashboard
{% endblock %}

{% block content %}
    <div class="card-body table-responsive">

        <table id="dtverTable" class="table table-striped table-bordered table-sm">
            <thead class="thead-light">
            <tr>
                <th style="min-width:200px" class="text-center" scope="col">Location</th>
                <th class="text-center" scope="col">Contingency Plan</th>
                <th class="text-center" scope="col">Start Date</th>
                <th class="text-center" scope="col">View History</th>

            </tr>
            </thead>
            <tbody>

            {% for history in histories %}
                <tr class="text-center">

                    <td class="text-center"> {{ history.flowchart.location.name}}</td>
                    <td class="text-center"> {{ history.flowchart.name|upper_case|capfirst }}</td>
                    <td class="text-center"> {{ history.jalali }}</td>

                    <td class="text-center">
                        <a href="{% url 'flowchart:history-detail' pk=history.id %}" class="btn btn-sm btn-outline-dark">View History </a>
                    </td>

                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>

    <script>
        $(document).ready(function () {
            $('#dtverTable').DataTable({
                "scrollY": "600px",
                "scrollCollapse": true,
            });
            $('.dataTables_length').addClass('bs-select');
        });


    </script>

{% endblock %}

</body>
</html>